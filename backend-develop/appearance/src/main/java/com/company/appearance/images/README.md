# Face Detection Cropped Images

This directory stores cropped face images generated by the `POST /api/face/detect` endpoint when `includeCrop=true`.

## Filename Format

Cropped images are saved with the following naming convention:

```
detect_crop_<sanitizedBaseName>_<timestamp>_<uuid>.jpg
```

Where:
- `<sanitizedBaseName>`: Original filename (without extension) with unsafe characters replaced by underscores
- `<timestamp>`: Date and time in format `yyyyMMdd_HHmmss`
- `<uuid>`: 8-character UUID for uniqueness

## Example

Original filename: `person-photo.jpg`
Saved as: `detect_crop_person-photo_20260116_145030_a1b2c3d4.jpg`

## Cleanup

This directory may accumulate files over time. Consider implementing a cleanup strategy:
- Manual cleanup of old files
- Automated cleanup job (cron/scheduled task)
- Retention policy based on file age

## API Response

When a cropped image is saved, the API response includes:
- `croppedImageBase64`: Base64-encoded JPEG image data
- `croppedImageSavedPath`: Relative path to the saved file (e.g., `appearance/src/main/java/com/company/appearance/images/detect_crop_person-photo_20260116_145030_a1b2c3d4.jpg`)
